# Asphalt 沥青生产控制系统

## 项目简介

Asphalt是一个专为沥青生产企业设计的自动化控制系统，通过与西门子PLC (S7-200 Smart)通信，实现对沥青生产全过程的实时监控、数据采集和自动控制。系统提供了直观的可视化界面，便于操作人员监控生产状态和控制生产过程。

## 主要功能

- **实时监控**: 对沥青生产全流程的各个环节进行实时监控，包括温度、压力、流量等参数
- **数据记录**: 自动记录生产数据，存储到MySQL数据库中，便于后续分析和报表生成
- **报表生成**: 支持生成各类生产报表，帮助分析生产效率和质量
- **配方管理**: 可以设置和管理不同的沥青生产配方，确保产品质量稳定
- **权限控制**: 多级权限管理，确保系统操作安全
- **异常报警**: 当系统参数超出设定范围时，自动发出警报
- **手动/自动模式**: 支持手动操作和自动生产两种模式

## 系统要求

- 操作系统: Windows 7/10/11
- .NET Framework 4.5+
- MySQL 数据库 5.6+
- 硬件通信: 支持与西门子S7-200 Smart PLC通信

## 安装说明

1. 确保已安装MySQL数据库服务器，并创建用户名为`root`，密码为`root`的账户(或修改代码中的连接字符串)
2. 将项目克隆或下载到本地
3. 在项目目录中执行编译构建
4. 将`asphalt.sql`和`PCHMI.dll`文件复制到输出目录的`bin/Debug`或`bin/Release`文件夹中
5. 运行编译后的可执行文件

## 使用说明

1. 启动系统后，会先进行数据库检查，如果数据库不存在会自动创建
2. 登录系统(默认用户可在数据库中查看)
3. 系统启动后，进入主界面
4. 通过导航栏可以切换不同的功能模块:
   - 监控界面: 实时监控生产状态
   - 报表: 查看和生成生产报表
   - 配方: 管理不同的生产配方
   - 参数范围: 设定各项参数的正常范围
   - 系统设置: 配置系统参数
   - 生产曲线: 查看生产参数的变化曲线
   - 重量校准: 对称重系统进行校准
   - 电气控制: 控制电气设备
   - 延时设置: 设置各个生产环节的延时参数
   - 权限管理: 管理用户权限

## 网络配置

系统默认连接三个PLC，IP地址配置如下:
- PLC1: 192.168.2.1
- PLC2: 192.168.2.2
- PLC3: 192.168.2.3

请确保您的网络环境能够正确连接到这些设备。

## 常见问题

- 如果无法连接到PLC，请检查网络连接和PLC的IP地址配置
- 如果数据库连接失败，请检查MySQL服务是否正常运行，以及用户名和密码是否正确
- 系统启动时如出现异常，请查看错误信息，并检查依赖文件是否已正确放置

## 技术支持

如有任何问题或需要技术支持，请联系开发团队。
